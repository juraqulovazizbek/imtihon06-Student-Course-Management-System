<!-- templates/students/list.html -->
{% extends "base.html" %}
{% block title %}Students{% endblock %}

{% block content %}
<section class="card">
  <div class="header">
    <div>
      <h1 class="h1">Students</h1>
      <p class="sub">Filter: min_age, Search: full_name (icontains).</p>
    </div>
    <div class="actions">
      <a class="btn primary" href="/students/create/">+ Create student</a>
    </div>
  </div>

  <form method="get" class="filters">
    <div class="field">
      <label for="min_age">Min age</label>
      <input id="min_age" name="min_age" type="number" min="0" value="{{ request.GET.min_age }}" placeholder="18" />
    </div>
    <div class="field">
      <label for="search">Search</label>
      <input id="search" name="search" type="text" value="{{ request.GET.search }}" placeholder="ali" />
    </div>
    <div class="actions">
      <button class="btn" type="submit">Apply</button>
      <a class="btn ghost" href="/students/">Reset</a>
    </div>
  </form>

  <div style="height:12px"></div>

  <table class="table">
    <thead>
      <tr>
        <th>Full name</th>
        <th>Email</th>
        <th>Age</th>
        <th style="width:220px;">Actions</th>
      </tr>
    </thead>
    <tbody>
      {% for s in students %}
        <tr>
          <td><strong>{{ s.full_name }}</strong></td>
          <td class="help">{{ s.email }}</td>
          <td><span class="badge">{{ s.age }}</span></td>
          <td>
            <div class="actions">
              <a class="btn" href="/students/{{ s.id }}/">Detail</a>
              <form method="post" action="/students/{{ s.id }}/delete/" style="display:inline;">
                {% csrf_token %}
                <button class="btn danger" type="submit">Delete</button>
              </form>
            </div>
          </td>
        </tr>
      {% empty %}
        <tr><td colspan="4" class="help">Hozircha student yoâ€˜q.</td></tr>
      {% endfor %}
    </tbody>
  </table>
</section>
{% endblock %}
